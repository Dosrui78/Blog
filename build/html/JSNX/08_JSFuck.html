<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>5.8 JSFuckæ··æ·† &mdash; Dosrui&#39;s Blog 1.0.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="canonical" href="https://magic.iswbm.com/JSNX/08_JSFuck.html" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/js/readmore.js"></script>
        <script src="../_static/js/baidutongji.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="5.7 JSé€†å‘ä¹‹è¡¥ç¯å¢ƒ" href="07_%E8%A1%A5%E7%8E%AF%E5%A2%83.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Dosrui's Blog
          </a>
              <div class="version">
                3.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Python/index.html">ç¬¬ä¸€ç« ï¼šåŸºç¡€çŸ¥è¯†</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Math/index.html">ç¬¬äºŒç« ï¼šæ•°æ®åˆ†æ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Other/index.html">ç¬¬ä¸‰ç« ï¼šçˆ¬è™«å…¥é—¨</a></li>
<li class="toctree-l1"><a class="reference internal" href="../JS/index.html">ç¬¬å››ç« ï¼šJSåŸºç¡€</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">ç¬¬äº”ç« ï¼šJSé€†å‘</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="01_debugger.html">5.1 JSè°ƒè¯•å¹²æ‰°ä¸“é¢˜</a></li>
<li class="toctree-l2"><a class="reference internal" href="02_%E5%85%A5%E9%97%A8js%E5%8F%8D%E7%88%AC.html">5.2 å…¥é—¨çº§JSåçˆ¬</a></li>
<li class="toctree-l2"><a class="reference internal" href="03_Hook.html">5.3 Hookçš„ä½¿ç”¨</a></li>
<li class="toctree-l2"><a class="reference internal" href="04_%E9%AA%8C%E8%AF%81%E7%A0%81.html">5.4 éªŒè¯ç è¯†åˆ«</a></li>
<li class="toctree-l2"><a class="reference internal" href="05_%E4%BA%A7%E5%93%81%E4%BB%8B%E7%BB%8D.html">5.5 å¸¸è§åçˆ¬ä»‹ç»</a></li>
<li class="toctree-l2"><a class="reference internal" href="06_ob%E6%B7%B7%E6%B7%86.html">5.6 obæ··æ·†è§£å†³æ–¹æ¡ˆ</a></li>
<li class="toctree-l2"><a class="reference internal" href="07_%E8%A1%A5%E7%8E%AF%E5%A2%83.html">5.7 JSé€†å‘ä¹‹è¡¥ç¯å¢ƒ</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">5.8 JSFuckæ··æ·†</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">1. æ°´ä¸€è´´JSFuck</a></li>
<li class="toctree-l3"><a class="reference internal" href="#js-fuck">2. å¾çˆ±ç ´è§£JS_Fuckæ··æ·†è§£å¯†</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">3. ç½‘æ´›è€…ç¬¬å››é¢˜JSFuck åŠ å¯†</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Dosrui's Blog</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">ç¬¬äº”ç« ï¼šJSé€†å‘</a> &raquo;</li>
      <li>5.8 JSFuckæ··æ·†</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/JSNX/08_JSFuck.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="jsfuck">
<h1>5.8 JSFuckæ··æ·†<a class="headerlink" href="#jsfuck" title="Permalink to this headline">Â¶</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">JSFuck</span></code>ï¼ˆæˆ–ä¸ºäº†é¿è®³è„è¯Fuckå†™ä½œJSF*ckï¼‰æ˜¯ä¸€ç§æ·±å¥¥çš„JavaScript ç¨‹å¼è®¾è®¡é£æ ¼ã€‚ä»¥è¿™ç§é£æ ¼å†™æˆçš„ä»£ç ä¸­ä»…ä½¿ç”¨<code class="docutils literal notranslate"><span class="pre">[</span></code>ã€<code class="docutils literal notranslate"><span class="pre">]</span></code>ã€<code class="docutils literal notranslate"><span class="pre">(</span></code>ã€<code class="docutils literal notranslate"><span class="pre">)</span></code>ã€<code class="docutils literal notranslate"><span class="pre">!</span></code>å’Œ + å…­ç§å­—å…ƒã€‚</p>
<table border="1" class="docutils">
<thead>
<tr>
<th align="center">å€¼</th>
<th align="center">ç»JSFuckè½¬åŒ–å</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>false</code></td>
<td align="center"><code>![]</code></td>
</tr>
<tr>
<td align="center"><code>true</code></td>
<td align="center"><code>!![]</code>æˆ–<code>!+[]</code></td>
</tr>
<tr>
<td align="center"><code>NaN</code></td>
<td align="center"><code>+[![]]</code>æˆ–<code>+[][[]]</code></td>
</tr>
<tr>
<td align="center"><code>undefined</code></td>
<td align="center"><code>[][[]]</code></td>
</tr>
<tr>
<td align="center"><code>Infinity</code></td>
<td align="center"><code>+(+!+[]+(!+[]+[])[!+[]+!+[]+!+[]]+[+!+[]]+[+[]]+[+[]]+[+[]])</code></td>
</tr>
</tbody>
</table><hr class="docutils" />
<section id="id1">
<h2>1. æ°´ä¸€è´´JSFuck<a class="headerlink" href="#id1" title="Permalink to this headline">Â¶</a></h2>
<p><em>ç¤ºä¾‹ä¸ºçŒ¿äººå­¦ç»ƒä¹ 14é¢˜</em></p>
<p>æ‰“ä¸ŠXHRæ–­ç‚¹ï¼Œé€šè¿‡fiddleræŠ“åŒ…åˆ†æå‘ç°ï¼šucå‚æ•°æ˜¯å˜åŒ–çš„ã€‚</p>
<p><img alt="https://dosrui.oss-cn-guangzhou.aliyuncs.com/img/Snipaste_2021-12-21_22-46-15.png" src="https://dosrui.oss-cn-guangzhou.aliyuncs.com/img/Snipaste_2021-12-21_22-46-15.png" /></p>
<p>äºæ˜¯æ‰¾å †æ ˆå‘ç°ucçš„åŠ å¯†é€»è¾‘å¦‚ä¸‹ï¼Œå…¶ä¸­æœ‰ä¸€æ®µJSFuckä»£ç </p>
<p><img alt="https://dosrui.oss-cn-guangzhou.aliyuncs.com/img/Snipaste_2021-12-21_22-55-56.png" src="https://dosrui.oss-cn-guangzhou.aliyuncs.com/img/Snipaste_2021-12-21_22-55-56.png" /></p>
<p>åœ¨æ§åˆ¶å°è¿è¡Œè¿™æ®µJS_FuckåŠ å¯†ä»£ç </p>
<p>å‘ç°ç›´æ¥è¿è¡ŒæŠ¥é”™ï¼Œé¡»å°†æœ€åä¸€ä¸ªæ‹¬å·ä¸­çš„å†…å®¹åˆ é™¤ï¼Œå¾—åˆ°å¦‚ä¸‹ç»“æœï¼š</p>
<p><img alt="https://dosrui.oss-cn-guangzhou.aliyuncs.com/img/Snipaste_2021-12-21_23-11-47.png" src="https://dosrui.oss-cn-guangzhou.aliyuncs.com/img/Snipaste_2021-12-21_23-11-47.png" /></p>
<p>å°†ä»£ç æ‰£ä¸‹æ¥ï¼š</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nb">window</span> <span class="o">=</span> <span class="nb">global</span>
<span class="nx">num</span> <span class="o">=</span> <span class="mf">1</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">num</span> <span class="o">=</span> <span class="nx">num</span><span class="p">;</span>
<span class="nx">CryptoJS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;crypto-js&#39;</span><span class="p">)</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">k</span> <span class="o">=</span> <span class="s1">&#39;wdf2ff*TG@*(F4)*YH)g430HWR(*)&#39;</span> <span class="o">+</span> <span class="s1">&#39;wse&#39;</span><span class="p">;</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">t</span> <span class="o">=</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="ow">new</span> <span class="nb">Date</span><span class="p">())</span> <span class="o">/</span> <span class="mf">1000</span><span class="p">;</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">m</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">enc</span><span class="p">.</span><span class="nx">Utf8</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">k</span><span class="p">);</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">word</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">srcs</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">enc</span><span class="p">.</span><span class="nx">Utf8</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">word</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">encrypted</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">AES</span><span class="p">.</span><span class="nx">encrypt</span><span class="p">(</span><span class="nx">srcs</span><span class="p">,</span> <span class="nb">window</span><span class="p">.</span><span class="nx">m</span><span class="p">,</span> <span class="p">{</span>
        <span class="nx">mode</span><span class="o">:</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">mode</span><span class="p">.</span><span class="nx">ECB</span><span class="p">,</span>
        <span class="nx">padding</span><span class="o">:</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">pad</span><span class="p">.</span><span class="nx">Pkcs7</span>
    <span class="p">});</span>
    <span class="k">return</span> <span class="nx">encrypted</span><span class="p">.</span><span class="nx">toString</span><span class="p">();</span>
<span class="p">};</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">s</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">a</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">t</span> <span class="o">+</span> <span class="s1">&#39;|&#39;</span> <span class="o">+</span> <span class="nb">window</span><span class="p">.</span><span class="nx">num</span><span class="p">);</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">s</span><span class="p">;</span>
<span class="nx">uc</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">a</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">uc</span><span class="p">)</span>
</pre></div>
</div>
<p>è¿™æ ·ä¸€æ¥å°±å¾—åˆ°ucçš„å€¼äº†ï¼Œæ¥ä¸‹æ¥ç”¨pyæ¥ä»£å…¥è¿™æ®µjsä»£ç è·å¾—æˆ‘ä»¬æ‰€è¦çš„å€¼ã€‚</p>
</section>
<hr class="docutils" />
<section id="js-fuck">
<h2>2. å¾çˆ±ç ´è§£JS_Fuckæ··æ·†è§£å¯†<a class="headerlink" href="#js-fuck" title="Permalink to this headline">Â¶</a></h2>
<p>åœ¨æ§åˆ¶å°ä¸Šè¿è¡Œè¯¥ä»£ç ï¼Œå¾—åˆ°ç»“æœå¦‚ä¸‹</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="kd">function</span> <span class="nx">anonymous</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="kd">function</span> <span class="nx">_52pojie_MMXXI_</span><span class="p">(</span><span class="nx">t</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">e</span> <span class="o">=</span> <span class="p">[];</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">f</span> <span class="k">of</span> <span class="nx">t</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">let</span> <span class="nx">t</span> <span class="o">=</span> <span class="nx">f</span><span class="p">.</span><span class="nx">codePointAt</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span>
              <span class="p">,</span> <span class="nx">h</span> <span class="o">=</span> <span class="mf">0</span><span class="p">;</span>
            <span class="nx">t</span> <span class="o">-=</span> <span class="mh">0x1d4</span> <span class="o">&lt;&lt;</span> <span class="mh">0x1c8</span><span class="p">,</span>
            <span class="s2">&quot;bkd0egfw002whccadqf6gm0q3mi2&quot;</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/../g</span><span class="p">).</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">f</span><span class="p">=&gt;{</span>
                <span class="nx">f</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span> <span class="mh">0x24</span><span class="p">),</span>
                <span class="nx">t</span> <span class="o">&gt;=</span> <span class="nx">f</span> <span class="o">&amp;&amp;</span> <span class="nx">t</span> <span class="o">&lt;</span> <span class="nx">f</span> <span class="o">+</span> <span class="mh">0x1A</span> <span class="o">&amp;&amp;</span> <span class="nx">e</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">h</span> <span class="o">%</span> <span class="mf">7</span><span class="p">),</span>
                <span class="nx">h</span><span class="o">++</span>
            <span class="p">}</span>
            <span class="p">)</span>
        <span class="p">}</span>
        <span class="kd">let</span> <span class="nx">f</span> <span class="o">=</span> <span class="p">[];</span>
        <span class="k">for</span> <span class="p">(;</span> <span class="nx">e</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;=</span> <span class="mf">3</span><span class="p">;</span> <span class="p">)</span> <span class="p">{</span>
            <span class="kd">let</span> <span class="nx">t</span> <span class="o">=</span> <span class="mh">0x31</span> <span class="o">*</span> <span class="nx">e</span><span class="p">.</span><span class="nx">shift</span><span class="p">();</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">t</span> <span class="o">+=</span> <span class="mf">7</span> <span class="o">*</span> <span class="nx">e</span><span class="p">.</span><span class="nx">shift</span><span class="p">(),</span>
            <span class="p">(</span><span class="nx">t</span> <span class="o">+=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">shift</span><span class="p">())</span> <span class="o">&gt;</span> <span class="mh">0xff</span><span class="p">)</span>
                <span class="k">break</span><span class="p">;</span>
            <span class="nx">f</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">t</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="ow">new</span> <span class="nb">Uint8Array</span><span class="p">(</span><span class="nx">f</span><span class="p">);</span>
        <span class="kd">const</span> <span class="nx">flag1</span> <span class="o">=</span> <span class="s1">&#39;n0w_wh3r3_1s_th3_c1ph3rt3xt?&#39;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
<p>åœ¨å®ƒæœ€ä¸Šæ–¹æ‰“ä¸Šdebuggerï¼Œè¿è¡Œåå‡ºç°å¦‚ä¸‹å›¾çš„ä»£ç </p>
<p><img alt="https://dosrui.oss-cn-guangzhou.aliyuncs.com/img/Snipaste_2021-12-21_23-42-36.png" src="https://dosrui.oss-cn-guangzhou.aliyuncs.com/img/Snipaste_2021-12-21_23-42-36.png" /></p>
<p>ä¸€ç›´f11è·Ÿè¿›ä»£ç ï¼Œä¼šçœ‹åˆ°<code class="docutils literal notranslate"><span class="pre">btoa</span></code>å’Œ<code class="docutils literal notranslate"><span class="pre">atob</span></code>ï¼Œå¡ä½åæŒ‰Shift+f11å›è·³ï¼Œæ¢å¤åå†ç»§ç»­f11ï¼Œæœ€åè¿è¡Œå‡ºä¸€æ®µå¾ˆå¥‡æ€ªçš„ä»£ç </p>
<p><img alt="https://dosrui.oss-cn-guangzhou.aliyuncs.com/img/Snipaste_2021-12-21_23-46-59.png" src="https://dosrui.oss-cn-guangzhou.aliyuncs.com/img/Snipaste_2021-12-21_23-46-59.png" /></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>`ğ—‹ğğšğ®ğš›ğ˜¯ ğ™›ğ˜‚ğ™£ğ™˜ğ—ğ˜ªğ™¤ğ§ _52ğ©ğ¨ğ£ğ˜ªğ˜¦_ğŒğ™ˆğ™“ğ—ğ˜_(ğ­){ğš•ğ˜¦ğ™© ğ—²=[];ğ™›ğ™¤ğ—‹(ğ™¡ğ˜¦ğ’• ğŸ ğ¨ğš ğ˜µ){ğ™¡ğ—²ğ™© ğ™©=ğ–¿.ğ™˜ğ˜°ğ’…ğ’†ğğš˜ğ˜ªğ™£ğ˜ğ˜¼ğ™©(0),ğ—=0;ğ—-=0ğ™­1ğ–½4&lt;&lt;0ğ’™1ğœ8,&quot;ğ›ğ˜¬ğ˜¥0ğğ ğ™›ğ—002ğš ğ¡ğœğ—°ğ™–ğğššğ˜§6ğ ğ™¢0ğª3ğš–ğ˜ª2&quot;.ğ™¢ğ—®ğ™©ğ™˜ğ—(/../ğ—´).ğ™›ğ™¤ğ™§ğ„ğšğ˜¤ğ˜©(ğ’‡=&gt;{ğ–¿=ğ˜±ğ’‚ğ™§ğ¬ğğ—œğ™£ğ’•(ğ–¿,0ğ™­24),ğ˜&gt;=ğ˜§&amp;&amp;ğ­&lt;ğš+0ğ˜¹1ğ˜¼&amp;&amp;ğ—².ğ™¥ğ™ªğ—Œğ™(ğ™%7),ğ—++})}ğ—¹ğğš ğ˜§=[];ğ™›ğ—¼ğ™§(;ğ™š.ğ—…ğ™šğ˜¯ğ’ˆğ­ğ¡&gt;=3;){ğ¥ğ˜¦ğ˜µ ğ’•=0ğ—‘31*ğ˜¦.ğ’”ğ˜©ğ—‚ğŸğš();ğ—‚ğš(ğ­+=7*ğ˜¦.ğ˜€ğ’‰ğ˜ªğ—³ğš(),(ğ˜µ+=ğ˜¦.ğ˜´ğ˜©ğ—¶ğŸğ˜())&gt;0ğš¡ğšğ˜§)ğ—¯ğ™§ğ˜¦ğ—®ğ—„;ğ˜§.ğ™¥ğ™ªğ˜´ğ—(ğ™©)}ğ—‹ğ’†ğ’•ğ—ğ’“ğ§ ğ—»ğğ˜„ ğ—¨ğ™ğ—‡ğ˜8ğ˜¼ğ’“ğ—¿ğ˜¢ğ’š(ğ–¿);ğ’„ğ¨ğ—‡ğ’”ğš ğšğ’ğšğ—€1=&#39;ğ§0ğ—_ğ™¬ğ—3ğš›3_1ğ˜´_ğ’•ğ¡3_ğ™˜1ğ™¥ğ—µ3ğ˜³ğ’•3ğ™­ğ˜µ?&#39;}`
</pre></div>
</div>
<p>copyä¸‹æ¥å…ˆï¼›ç»§ç»­f11è°ƒè¯•ï¼›ç›´åˆ°å‡ºç°å¦‚ä¸‹ä»£ç åœä¸‹ï¼Œå½“ç„¶ç»§ç»­ä¹Ÿè¡Œï¼Œä¸è¿‡ä¼šè¿è¡Œåˆ°æœ€åï¼›</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="kd">function</span> <span class="nx">anonymous</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="kd">function</span> <span class="nx">_52pojie_MMXXI_</span><span class="p">(</span><span class="nx">t</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">e</span> <span class="o">=</span> <span class="p">[];</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">f</span> <span class="k">of</span> <span class="nx">t</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">let</span> <span class="nx">t</span> <span class="o">=</span> <span class="nx">f</span><span class="p">.</span><span class="nx">codePointAt</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span>
              <span class="p">,</span> <span class="nx">h</span> <span class="o">=</span> <span class="mf">0</span><span class="p">;</span>
            <span class="nx">t</span> <span class="o">-=</span> <span class="mh">0x1d4</span> <span class="o">&lt;&lt;</span> <span class="mh">0x1c8</span><span class="p">,</span>
            <span class="s2">&quot;bkd0egfw002whccadqf6gm0q3mi2&quot;</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/../g</span><span class="p">).</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">f</span><span class="p">=&gt;{</span>
                <span class="nx">f</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span> <span class="mh">0x24</span><span class="p">),</span>
                <span class="nx">t</span> <span class="o">&gt;=</span> <span class="nx">f</span> <span class="o">&amp;&amp;</span> <span class="nx">t</span> <span class="o">&lt;</span> <span class="nx">f</span> <span class="o">+</span> <span class="mh">0x1A</span> <span class="o">&amp;&amp;</span> <span class="nx">e</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">h</span> <span class="o">%</span> <span class="mf">7</span><span class="p">),</span>
                <span class="nx">h</span><span class="o">++</span>
            <span class="p">}</span>
            <span class="p">)</span>
        <span class="p">}</span>
        <span class="kd">let</span> <span class="nx">f</span> <span class="o">=</span> <span class="p">[];</span>
        <span class="k">for</span> <span class="p">(;</span> <span class="nx">e</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;=</span> <span class="mf">3</span><span class="p">;</span> <span class="p">)</span> <span class="p">{</span>
            <span class="kd">let</span> <span class="nx">t</span> <span class="o">=</span> <span class="mh">0x31</span> <span class="o">*</span> <span class="nx">e</span><span class="p">.</span><span class="nx">shift</span><span class="p">();</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">t</span> <span class="o">+=</span> <span class="mf">7</span> <span class="o">*</span> <span class="nx">e</span><span class="p">.</span><span class="nx">shift</span><span class="p">(),</span>
            <span class="p">(</span><span class="nx">t</span> <span class="o">+=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">shift</span><span class="p">())</span> <span class="o">&gt;</span> <span class="mh">0xff</span><span class="p">)</span>
                <span class="k">break</span><span class="p">;</span>
            <span class="nx">f</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">t</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="ow">new</span> <span class="nb">Uint8Array</span><span class="p">(</span><span class="nx">f</span><span class="p">);</span>
        <span class="kd">const</span> <span class="nx">flag1</span> <span class="o">=</span> <span class="s1">&#39;n0w_wh3r3_1s_th3_c1ph3rt3xt?&#39;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
<p>è‡³æ­¤å°±å·²ç»æŠŠJSFuckçš„å£³è„±å®Œäº†ã€‚å¯ä»¥çœ‹å‡ºè¿™ä¸ªå‡½æ•°æ˜¯å¯¹tçš„æ“ä½œï¼Œæ˜æ˜¾çš„æ˜¯åé¢é‚£æ®µ<code class="docutils literal notranslate"><span class="pre">let</span> <span class="pre">t</span> <span class="pre">=</span> <span class="pre">0x31</span> <span class="pre">*</span> <span class="pre">e.shift();</span></code>è¿™æ˜¯æ•°ç»„åç§»æ“ä½œï¼›ä¹‹å‰çš„å£³æ˜¯é‡å¤çš„btoaï¼Œatobæ“ä½œã€‚</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">a</span> <span class="o">=</span> <span class="sb">`ğ—‹ğğšğ®ğš›ğ˜¯ ğ™›ğ˜‚ğ™£ğ™˜ğ—ğ˜ªğ™¤ğ§ _52ğ©ğ¨ğ£ğ˜ªğ˜¦_ğŒğ™ˆğ™“ğ—ğ˜_(ğ­){ğš•ğ˜¦ğ™© ğ—²=[];ğ™›ğ™¤ğ—‹(ğ™¡ğ˜¦ğ’• ğŸ ğ¨ğš ğ˜µ){ğ™¡ğ—²ğ™© ğ™©=ğ–¿.ğ™˜ğ˜°ğ’…ğ’†ğğš˜ğ˜ªğ™£ğ˜ğ˜¼ğ™©(0),ğ—=0;ğ—-=0ğ™­1ğ–½4&lt;&lt;0ğ’™1ğœ8,&quot;ğ›ğ˜¬ğ˜¥0ğğ ğ™›ğ—002ğš ğ¡ğœğ—°ğ™–ğğššğ˜§6ğ ğ™¢0ğª3ğš–ğ˜ª2&quot;.ğ™¢ğ—®ğ™©ğ™˜ğ—(/../ğ—´).ğ™›ğ™¤ğ™§ğ„ğšğ˜¤ğ˜©(ğ’‡=&gt;{ğ–¿=ğ˜±ğ’‚ğ™§ğ¬ğğ—œğ™£ğ’•(ğ–¿,0ğ™­24),ğ˜&gt;=ğ˜§&amp;&amp;ğ­&lt;ğš+0ğ˜¹1ğ˜¼&amp;&amp;ğ—².ğ™¥ğ™ªğ—Œğ™(ğ™%7),ğ—++})}ğ—¹ğğš ğ˜§=[];ğ™›ğ—¼ğ™§(;ğ™š.ğ—…ğ™šğ˜¯ğ’ˆğ­ğ¡&gt;=3;){ğ¥ğ˜¦ğ˜µ ğ’•=0ğ—‘31*ğ˜¦.ğ’”ğ˜©ğ—‚ğŸğš();ğ—‚ğš(ğ­+=7*ğ˜¦.ğ˜€ğ’‰ğ˜ªğ—³ğš(),(ğ˜µ+=ğ˜¦.ğ˜´ğ˜©ğ—¶ğŸğ˜())&gt;0ğš¡ğšğ˜§)ğ—¯ğ™§ğ˜¦ğ—®ğ—„;ğ˜§.ğ™¥ğ™ªğ˜´ğ—(ğ™©)}ğ—‹ğ’†ğ’•ğ—ğ’“ğ§ ğ—»ğğ˜„ ğ—¨ğ™ğ—‡ğ˜8ğ˜¼ğ’“ğ—¿ğ˜¢ğ’š(ğ–¿);ğ’„ğ¨ğ—‡ğ’”ğš ğšğ’ğšğ—€1=&#39;ğ§0ğ—_ğ™¬ğ—3ğš›3_1ğ˜´_ğ’•ğ¡3_ğ™˜1ğ™¥ğ—µ3ğ˜³ğ’•3ğ™­ğ˜µ?&#39;}`</span>

<span class="nx">_52pojie_MMXXI_</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span>

<span class="c1">// è¾“å‡ºä¸º8ä½æ— ç¬¦å·æ•´å‹æ•°ç»„</span>
<span class="nb">Uint8Array</span><span class="p">(</span><span class="mf">66</span><span class="p">)</span>Â <span class="p">[</span><span class="mf">34</span><span class="p">,</span> <span class="mf">240</span><span class="p">,</span> <span class="mf">157</span><span class="p">,</span> <span class="mf">149</span><span class="p">,</span> <span class="mf">179</span><span class="p">,</span> <span class="mf">226</span><span class="p">,</span> <span class="mf">129</span><span class="p">,</span> <span class="mf">177</span><span class="p">,</span> <span class="mf">240</span><span class="p">,</span> <span class="mf">157</span><span class="p">,</span> <span class="mf">150</span><span class="p">,</span> <span class="mf">137</span><span class="p">,</span> <span class="mf">240</span><span class="p">,</span> <span class="mf">157</span><span class="p">,</span> <span class="mf">150</span><span class="p">,</span> <span class="mf">138</span><span class="p">,</span> <span class="mf">240</span><span class="p">,</span> <span class="mf">157</span><span class="p">,</span> <span class="mf">147</span><span class="p">,</span> <span class="mf">152</span><span class="p">,</span> <span class="mf">226</span><span class="p">,</span> <span class="mf">130</span><span class="p">,</span> <span class="mf">153</span><span class="p">,</span> <span class="mf">225</span><span class="p">,</span> <span class="mf">181</span><span class="p">,</span> <span class="mf">129</span><span class="p">,</span> <span class="mf">240</span><span class="p">,</span> <span class="mf">157</span><span class="p">,</span> <span class="mf">148</span><span class="p">,</span> <span class="mf">171</span><span class="p">,</span> <span class="mf">226</span><span class="p">,</span> <span class="mf">133</span><span class="p">,</span> <span class="mf">136</span><span class="p">,</span> <span class="mf">225</span><span class="p">,</span> <span class="mf">182</span><span class="p">,</span> <span class="mf">156</span><span class="p">,</span> <span class="mf">240</span><span class="p">,</span> <span class="mf">157</span><span class="p">,</span> <span class="mf">150</span><span class="p">,</span> <span class="mf">148</span><span class="p">,</span> <span class="mf">240</span><span class="p">,</span> <span class="mf">157</span><span class="p">,</span> <span class="mf">150</span><span class="p">,</span> <span class="mf">137</span><span class="p">,</span> <span class="mf">226</span><span class="p">,</span> <span class="mf">133</span><span class="p">,</span> <span class="mf">135</span><span class="p">,</span> <span class="mf">34</span><span class="p">,</span> <span class="mf">46</span><span class="p">,</span> <span class="mf">110</span><span class="p">,</span> <span class="mf">111</span><span class="p">,</span> <span class="mf">114</span><span class="p">,</span> <span class="mf">109</span><span class="p">,</span> <span class="mf">97</span><span class="p">,</span> <span class="mf">108</span><span class="p">,</span> <span class="mf">105</span><span class="p">,</span> <span class="mf">122</span><span class="p">,</span> <span class="mf">101</span><span class="p">,</span> <span class="mf">40</span><span class="p">,</span> <span class="mf">39</span><span class="p">,</span> <span class="mf">78</span><span class="p">,</span> <span class="mf">70</span><span class="p">,</span> <span class="mf">75</span><span class="p">,</span> <span class="mf">68</span><span class="p">,</span> <span class="mf">39</span><span class="p">,</span> <span class="mf">41</span><span class="p">]</span>

<span class="kd">function</span> <span class="nx">Decodeunit8arr</span><span class="p">(</span><span class="nx">uint8array</span><span class="p">){</span>
    <span class="k">return</span> <span class="ow">new</span> <span class="nx">TextDecoder</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">).</span><span class="nx">decode</span><span class="p">(</span><span class="nx">uint8array</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">Decodeunit8arr</span><span class="p">(</span><span class="nx">_52pojie_MMXXI_</span><span class="p">(</span><span class="nx">a</span><span class="p">))</span>

<span class="c1">// è¾“å‡º</span>
<span class="s2">&quot;&quot;</span><span class="nx">ğ•³â±ğ–‰ğ–Šğ“˜â‚™áµğ”«â…ˆá¶œğ–”ğ–‰â…‡</span><span class="s2">&quot;.normalize(&#39;NFKD&#39;)&quot;</span>

<span class="c1">// å†å°†é‡Œè¾¹çš„å€¼æ‰§è¡Œä¸€é</span>
<span class="s2">&quot;ğ•³â±ğ–‰ğ–Šğ“˜â‚™áµğ”«â…ˆá¶œğ–”ğ–‰â…‡&quot;</span><span class="p">.</span><span class="nx">normalize</span><span class="p">(</span><span class="s1">&#39;NFKD&#39;</span><span class="p">)</span>

<span class="c1">// ç»“æœ</span>
<span class="s2">&quot;HideInUnicode&quot;</span>
</pre></div>
</div>
</section>
<hr class="docutils" />
<section id="id2">
<h2>3. ç½‘æ´›è€…ç¬¬å››é¢˜JSFuck åŠ å¯†<a class="headerlink" href="#id2" title="Permalink to this headline">Â¶</a></h2>
<p><img alt="https://dosrui.oss-cn-guangzhou.aliyuncs.com/img/c06e33ecec96e2c8d73c9ab80577af73.png" src="https://dosrui.oss-cn-guangzhou.aliyuncs.com/img/c06e33ecec96e2c8d73c9ab80577af73.png" /></p>
<p>é€šè¿‡æŠ“åŒ…è½¯ä»¶å‘ç°åŠ å¯†å‚æ•°æ˜¯<code class="docutils literal notranslate"><span class="pre">_signature</span></code></p>
<p><img alt="https://dosrui.oss-cn-guangzhou.aliyuncs.com/img/Snipaste_2021-12-23_00-23-29.png" src="https://dosrui.oss-cn-guangzhou.aliyuncs.com/img/Snipaste_2021-12-23_00-23-29.png" /></p>
<p>å› ä¸ºè¿”å›çš„æ˜¯jsonæ•°æ®ï¼Œå…¶å®å°±æ˜¯Jsonæ•°æ®çš„æ˜ å°„åˆ°ç½‘ç«™ä¸Šã€‚</p>
<p><img alt="https://dosrui.oss-cn-guangzhou.aliyuncs.com/img/cab22ac02d069babd9ea74af10caec9d.png" src="https://dosrui.oss-cn-guangzhou.aliyuncs.com/img/cab22ac02d069babd9ea74af10caec9d.png" /></p>
<p>ç»§ç»­è·Ÿè¿›ä¼šå‘ç°ä¸€ä¸ªJSFuckæ··æ·†</p>
<p><img alt="https://dosrui.oss-cn-guangzhou.aliyuncs.com/img/1377958b8c380fb139665e28278ec77b.png" src="https://dosrui.oss-cn-guangzhou.aliyuncs.com/img/1377958b8c380fb139665e28278ec77b.png" /></p>
<p>æˆ‘ä»¬å°†è¿™æ®µä»£ç å¤åˆ¶å‡ºæ¥ï¼Œæ”¾åˆ°ç¼–è¾‘å™¨é‡Œé¢ï¼Œè¿™é‡Œä»¥ PyCharm ä¸ºä¾‹ï¼Œç”±äºæˆ‘ä»¬è¦é€‰ä¸­åŒ¹é…æ‹¬å·é‡Œçš„å†…å®¹ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸€ä¸‹ PyCharm æ‹¬å·åŒ¹é…é«˜äº®ä¸ºçº¢è‰²ï¼Œä¾¿äºæˆ‘ä»¬æŸ¥æ‰¾ï¼Œä¾æ¬¡ç‚¹å‡» File - Settings - Editor - Color Scheme - General - Code - Matched braceï¼Œè®¾ç½® Background ä¸ºæ˜¾çœ¼çš„é¢œè‰²ï¼š</p>
<p><img alt="https://dosrui.oss-cn-guangzhou.aliyuncs.com/img/443e3f1973c668534cda9ca70fbe6fd1.png" src="https://dosrui.oss-cn-guangzhou.aliyuncs.com/img/443e3f1973c668534cda9ca70fbe6fd1.png" /></p>
<p>æ­¤æ—¶æˆ‘ä»¬é€‰ä¸­æœ€åä¸€ä¸ªæ‹¬å·ï¼Œå¾€ä¸Šæ‰¾ï¼Œå°±å¯ä»¥éå¸¸æ˜æ˜¾åœ°çœ‹åˆ°ä¸ä¹‹åŒ¹é…çš„å¦ä¸€ä¸ªæ‹¬å·ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img alt="https://dosrui.oss-cn-guangzhou.aliyuncs.com/img/da963e526e8b1c1cbe2d611c71075fb0.png" src="https://dosrui.oss-cn-guangzhou.aliyuncs.com/img/da963e526e8b1c1cbe2d611c71075fb0.png" /></p>
<p>æˆ‘ä»¬å°†æ‹¬å·é‡Œé¢çš„å†…å®¹å¤åˆ¶å‡ºæ¥ï¼ˆå¯ä»¥åŒ…å«æ‹¬å·ï¼Œä¹Ÿå¯ä»¥ä¸åŒ…å«ï¼‰ï¼Œæ”¾åˆ°æµè§ˆå™¨æ§åˆ¶å°è¿è¡Œä¸€ä¸‹ï¼Œå°±å¯ä»¥çœ‹åˆ°æºç äº†</p>
<p>é™¤äº†è¿™ç§æ–¹æ³•ä»¥å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ Hook çš„æ–¹å¼ï¼Œç›´æ¥æ•è·æºç ç„¶åæ‰“å°è¾“å‡ºï¼Œæ³¨æ„åˆ°è¿™æ®µæ··æ·†ä»£ç æœ€åæ²¡æœ‰ <code class="docutils literal notranslate"><span class="pre">()</span></code> æ‹¬å·ï¼Œé‚£å°±æ˜¯ eval çš„æ–¹å¼æ‰§è¡Œçš„ï¼Œæˆ‘ä»¬ç¼–å†™ Hook eval ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">eval_</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">;</span>
<span class="nb">eval</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">a</span><span class="p">){</span>
    <span class="k">debugger</span><span class="p">;</span>
    <span class="k">return</span> <span class="nx">eval_</span><span class="p">()</span>
<span class="p">}</span>


<span class="c1">// å¦å¤–æä¾›ä¸€ä¸ª Hook Function çš„ä»£ç </span>
<span class="c1">// Function.prototype.constructor_ = Function.prototype.constructor;</span>
<span class="c1">// Function.prototype.constructor = function (a) {</span>
<span class="c1">//     debugger;</span>
<span class="c1">//     return Function.prototype.constructor_(a);</span>
<span class="c1">// };</span>
</pre></div>
</div>
<p>åˆ·æ–°ç½‘é¡µï¼Œç›´æ¥æ–­ä¸‹ï¼Œæ­¤æ—¶ a çš„å€¼å°±æ˜¯æºç ï¼š</p>
<p><img alt="https://dosrui.oss-cn-guangzhou.aliyuncs.com/img/0e4544effcbad5ca040a4677d829cad6.png" src="https://dosrui.oss-cn-guangzhou.aliyuncs.com/img/0e4544effcbad5ca040a4677d829cad6.png" /></p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">time_tmp</span> <span class="o">=</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span>
    <span class="kd">let</span> <span class="nx">date</span> <span class="o">=</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="ow">new</span> <span class="nb">Date</span><span class="p">());</span>
    <span class="nb">window</span> <span class="o">=</span> <span class="p">{};</span>
    <span class="kd">let</span> <span class="nx">click</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nb">document</span><span class="p">.</span><span class="nx">onclick</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">key_tmp</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">iv_tmp</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">click</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">key_tmp</span> <span class="o">=</span> <span class="nx">date</span> <span class="o">*</span> <span class="mf">1234</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">key_tmp</span> <span class="o">=</span> <span class="nx">date</span> <span class="o">*</span> <span class="mf">1244</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">time_tmp</span> <span class="o">-</span> <span class="nb">window</span><span class="p">.</span><span class="nx">time</span> <span class="o">&lt;</span> <span class="mf">1000</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">iv_tmp</span> <span class="o">=</span> <span class="nx">date</span> <span class="o">*</span> <span class="mf">4321</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">iv_tmp</span> <span class="o">=</span> <span class="nx">date</span> <span class="o">*</span> <span class="mf">4311</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="kd">const</span> <span class="nx">key</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">enc</span><span class="p">.</span><span class="nx">Utf8</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">key_tmp</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">iv</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">enc</span><span class="p">.</span><span class="nx">Utf8</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">iv_tmp</span><span class="p">);</span>
    <span class="p">(</span><span class="kd">function</span> <span class="nx">tmp</span><span class="p">(</span><span class="nx">date</span><span class="p">,</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">iv</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">function</span> <span class="nx">Encrypt</span><span class="p">(</span><span class="nx">word</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">let</span> <span class="nx">srcs</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">enc</span><span class="p">.</span><span class="nx">Utf8</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">word</span><span class="p">);</span>
            <span class="kd">let</span> <span class="nx">encrypted</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">AES</span><span class="p">.</span><span class="nx">encrypt</span><span class="p">(</span><span class="nx">srcs</span><span class="p">,</span> <span class="nx">key</span><span class="p">,</span> <span class="p">{</span>
                <span class="nx">iv</span><span class="o">:</span> <span class="nx">iv</span><span class="p">,</span>
                <span class="nx">mode</span><span class="o">:</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">mode</span><span class="p">.</span><span class="nx">CBC</span><span class="p">,</span>
                <span class="nx">padding</span><span class="o">:</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">pad</span><span class="p">.</span><span class="nx">Pkcs7</span>
            <span class="p">});</span>
            <span class="k">return</span> <span class="nx">encrypted</span><span class="p">.</span><span class="nx">ciphertext</span><span class="p">.</span><span class="nx">toString</span><span class="p">().</span><span class="nx">toUpperCase</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="nb">window</span><span class="p">.</span><span class="nx">sign</span> <span class="o">=</span> <span class="nx">Encrypt</span><span class="p">(</span><span class="nx">date</span><span class="p">);</span>
    <span class="p">})(</span><span class="nx">date</span><span class="p">,</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">iv</span><span class="p">);</span>
<span class="p">})();</span>
</pre></div>
</div>
<p>å¯ä»¥çœ‹åˆ°å°±æ˜¯ä¸€ä¸ª AES åŠ å¯†ï¼Œè¿™é‡Œä¸»è¦æ³¨æ„æœ‰ä¸¤ä¸ª if-else è¯­å¥ï¼Œç¬¬ä¸€ä¸ªåˆ¤æ–­æ˜¯å¦å­˜åœ¨ <code class="docutils literal notranslate"><span class="pre">window.document.onclick</span></code>ï¼Œç¬¬äºŒä¸ªæ˜¯æ—¶é—´å·®çš„åˆ¤æ–­ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ§åˆ¶å°å»å°è¯•å–ä¸€ä¸‹ <code class="docutils literal notranslate"><span class="pre">window.document.onclick</span></code> å’Œ <code class="docutils literal notranslate"><span class="pre">window.time</span></code>ï¼Œçœ‹ä¸€ä¸‹åˆ°åº•èµ°çš„æ˜¯ if è¿˜æ˜¯ elseï¼Œåœ¨æœ¬åœ°æŠŠè¿™ä¸¤ä¸ªå€¼ä¹Ÿè¡¥å…¨å³å¯ï¼Œå®é™…ä¸Šç»è¿‡Kå“¥æµ‹è¯• <code class="docutils literal notranslate"><span class="pre">window.document.onclick</span></code> ä¸º nullï¼Œç„¶åä¸ç®¡æ˜¯èµ° if è¿˜æ˜¯ else éƒ½æ˜¯å¯ä»¥æ‹¿åˆ°ç»“æœçš„ï¼Œæ‰€ä»¥å¯¹äºæœ¬é¢˜æ¥è¯´ï¼Œä¸¤ä¸ª window å¯¹è±¡éƒ½æ— æ‰€è°“ï¼Œç›´æ¥å»æ‰ï¼Œ<code class="docutils literal notranslate"><span class="pre">key_tmp</span></code> å’Œ <code class="docutils literal notranslate"><span class="pre">iv_tmp</span></code> ä»»æ„å–å€¼éƒ½å¯ä»¥ã€‚</p>
<p>è‡ªæ­¤æœ¬é¢˜åˆ†æå®Œæ¯•ï¼Œæœ¬åœ°æ”¹å†™ä¹‹åï¼Œé…åˆ Python ä»£ç æºå¸¦ _signature æŒ¨ä¸ªè®¡ç®—æ¯ä¸€é¡µçš„æ•°æ®ï¼Œæœ€ç»ˆæäº¤æˆåŠŸ</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="07_%E8%A1%A5%E7%8E%AF%E5%A2%83.html" class="btn btn-neutral float-left" title="5.7 JSé€†å‘ä¹‹è¡¥ç¯å¢ƒ" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Dosrui.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>